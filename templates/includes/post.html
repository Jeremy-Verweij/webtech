<div id="post-{{post['PostID']}}" class="card mb-3">
  <div class="card-body">
    <div class="d-flex">
      <a
        class="text-reset text-decoration-none"
        href="/profile/{{post.UserID}}"
      >
        <img
          src="{{ url_for('profile_picture', user_id=post.UserID) }}"
          class="rounded-circle d-inline"
          width="40"
          height="40"
        />&nbsp;
        <h5 class="ml-2 d-inline">{{ post['UserName'] }}</h5>
      </a>
      {% with date = post['Date'].strftime("%x")%}
      <span class="ml-2 text-end flex-fill"> &nbsp;{{ date }} </span>
      {% endwith %}
    </div>

    {% if post['RepostTitle'] %}
    <div class="card-body border border-3 m-3">
      <h6 class="mt-2">{{ post['RepostTitle'] }}</h6>
      <p>{{ post['RepostContent'] }}</p>
    </div>
    {% endif %}

    <h6 class="mt-2">{{ post['Title'] }}</h6>
    <p>{{ post['Content'] }}</p>

    <!-- Like Button -->
    <form
      action="{{ url_for('like_post', post_id=post['PostID']) }}"
      method="POST"
      class="d-inline"
    >
      <button type="submit" class="btn btn-sm btn-outline-primary">
        <i class="bi bi-heart"></i> {{lang['post_like']}} ({{ post['Likes'] }})
      </button>
    </form>

    <!-- Repost Button -->
    <!-- Uses a small bit of js(onclick) to set the right url for the modal(popup) 
     It basically gets the form from the dom and then it sets the action to the correct url
    -->
    <button
      type="button"
      class="btn btn-sm btn-outline-secondary"
      data-bs-toggle="modal"
      data-bs-target="#repostModal"
      onclick="document.getElementById('repostForm').action='{{ url_for('repost', post_id=post['PostID']) }}'"
    >
      <i class="bi bi-repeat"></i> {{lang['post_repost']}}
    </button>
  </div>
</div>
