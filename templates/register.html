{% extends 'boiler_plate.html' %} {% block header %}
<title>Register</title>
{% endblock %} {% block body %}
<div class="d-flex p-4 justify-content-center align-items-center">
  <div class="card shadow p-4 w-100" style="max-width: 450px">
    <ul class="nav nav-pills nav-justified mb-3" id="ex1" role="tablist">
      <li class="nav-item" role="presentation">
        <a
          class="nav-link"
          id="tab-login"
          data-toggle="pill"
          href="{{ url_for('auth.login') }}"
          role="tab"
          aria-controls="pills-login"
          aria-selected="false"
          >Login</a
        >
      </li>
      <li class="nav-item" role="presentation">
        <a
          class="nav-link active"
          id="tab-register"
          data-toggle="pill"
          href="{{ url_for('auth.register') }}"
          role="tab"
          aria-controls="pills-register"
          aria-selected="true"
          >Register</a
        >
      </li>
    </ul>

    <div class="tab-content">
      <div
        class="tab-pane fade show active"
        id="pills-login"
        role="tabpanel"
        aria-labelledby="tab-login"
      >
        <div class="alert alert-danger" role="alert">{{error}}</div>
        <form method="POST" class="g-3 needs-validation">
          <div class="form-group">
            <label>Email:</label>
            <input
              type="email"
              value="{{email}}"
              name="email"
              class="form-control"
              required
            />
          </div>
          <div class="form-group">
            <label>Username:</label>
            <input
              type="text"
              name="username"
              value="{{username}}"
              class="form-control"
              required
            />
          </div>
          <label>Password:</label>
          <div class="input-group mb-3">
            <input
              type="password"
              name="password"
              value="{{password}}"
              class="form-control"
              pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
              title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"
              required
            />
            <span class="input-group-text">
              <i class="bi bi-eye-slash" id="togglePassword"></i>
            </span>
          </div>
          <label>Repeat password:</label>
          <div class="input-group mb-3">
            <input
              type="password"
              name="rpassword"
              value="{{repeat_password}}"
              class="form-control"
              pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
              title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"
              required
            />
            <span class="input-group-text">
              <i class="bi bi-eye-slash" id="togglePassword"></i>
            </span>
          </div>
          <div class="d-flex justify-content-between align-items-center mb-3">
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                value=""
                id="loginCheck"
                checked
              />
              <label class="form-check-label" for="loginCheck">
                Remember me
              </label>
            </div>
          </div>
          <div class="d-grid gap-2">
            <button type="submit" class="btn btn-primary">Register</button>
          </div>
          <div class="text-center mt-3">
            <p class="mt-3 text-center">
              Already have an account?
              <a href="{{ url_for('auth.login') }}">Login</a>
            </p>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<script>
  document.querySelectorAll("input[type='password']").forEach((e) => {
    e.parentElement
      .getElementsByClassName("input-group-text")[0]
      .addEventListener("click", () => {
        const type =
          e.getAttribute("type") === "password" ? "text" : "password";
        e.setAttribute("type", type);

        e.parentElement
          .getElementsByClassName("input-group-text")[0]
          .getElementsByClassName("bi")[0]
          .classList.toggle("bi-eye");
        e.parentElement
          .getElementsByClassName("input-group-text")[0]
          .getElementsByClassName("bi")[0]
          .classList.toggle("bi-eye-slash");
      });
  });
</script>
{% endblock %}
